(function(){"use strict";var e={5236:function(e,t,a){var r=a(5130),o=a(6768);function n(e,t){const a=(0,o.g2)("router-view");return(0,o.uX)(),(0,o.Wv)(a)}var i=a(1241);const u={},l=(0,i.A)(u,[["render",n]]);var s=l,c=a(1387),v=a(4232);const d={class:"hello"},p=(0,o.Fv)('<p data-v-b9167eee> For a guide and recipes on how to configure / customize this project,<br data-v-b9167eee> check out the <a href="https://cli.vuejs.org" target="_blank" rel="noopener" data-v-b9167eee>vue-cli documentation</a>. </p><h3 data-v-b9167eee>Installed CLI Plugins</h3><ul data-v-b9167eee><li data-v-b9167eee><a href="https://github.com/vuejs/vue-cli/tree/dev/packages/%40vue/cli-plugin-babel" target="_blank" rel="noopener" data-v-b9167eee>babel</a></li><li data-v-b9167eee><a href="https://github.com/vuejs/vue-cli/tree/dev/packages/%40vue/cli-plugin-eslint" target="_blank" rel="noopener" data-v-b9167eee>eslint</a></li></ul><h3 data-v-b9167eee>Essential Links</h3><ul data-v-b9167eee><li data-v-b9167eee><a href="https://vuejs.org" target="_blank" rel="noopener" data-v-b9167eee>Core Docs</a></li><li data-v-b9167eee><a href="https://forum.vuejs.org" target="_blank" rel="noopener" data-v-b9167eee>Forum</a></li><li data-v-b9167eee><a href="https://chat.vuejs.org" target="_blank" rel="noopener" data-v-b9167eee>Community Chat</a></li><li data-v-b9167eee><a href="https://twitter.com/vuejs" target="_blank" rel="noopener" data-v-b9167eee>Twitter</a></li><li data-v-b9167eee><a href="https://news.vuejs.org" target="_blank" rel="noopener" data-v-b9167eee>News</a></li></ul><h3 data-v-b9167eee>Ecosystem</h3><ul data-v-b9167eee><li data-v-b9167eee><a href="https://router.vuejs.org" target="_blank" rel="noopener" data-v-b9167eee>vue-router</a></li><li data-v-b9167eee><a href="https://vuex.vuejs.org" target="_blank" rel="noopener" data-v-b9167eee>vuex</a></li><li data-v-b9167eee><a href="https://github.com/vuejs/vue-devtools#vue-devtools" target="_blank" rel="noopener" data-v-b9167eee>vue-devtools</a></li><li data-v-b9167eee><a href="https://vue-loader.vuejs.org" target="_blank" rel="noopener" data-v-b9167eee>vue-loader</a></li><li data-v-b9167eee><a href="https://github.com/vuejs/awesome-vue" target="_blank" rel="noopener" data-v-b9167eee>awesome-vue</a></li></ul>',7);function h(e,t,a,r,n,i){return(0,o.uX)(),(0,o.CE)("div",d,[(0,o.Lk)("h1",null,(0,v.v_)(a.msg),1),p])}var b={name:"HelloWorld",props:{msg:String}};const f=(0,i.A)(b,[["render",h],["__scopeId","data-v-b9167eee"]]);var g=f;const m=e=>((0,o.Qi)("data-v-6623c410"),e=e(),(0,o.jt)(),e),k=m((()=>(0,o.Lk)("label",{for:"username"},"Username:",-1))),w=m((()=>(0,o.Lk)("label",{for:"password"},"Password:",-1))),j=m((()=>(0,o.Lk)("div",null,[(0,o.Lk)("button",{type:"submit"},"Login")],-1)));function _(e,t,a,n,i,u){return(0,o.uX)(),(0,o.CE)("form",{id:"login",onSubmit:t[2]||(t[2]=(0,r.D$)(((...e)=>u.submitForm&&u.submitForm(...e)),["prevent"]))},[(0,o.Lk)("div",null,[k,(0,o.bo)((0,o.Lk)("input",{type:"text",id:"username","onUpdate:modelValue":t[0]||(t[0]=e=>i.formData.username=e),required:""},null,512),[[r.Jo,i.formData.username]])]),(0,o.Lk)("div",null,[w,(0,o.bo)((0,o.Lk)("input",{type:"password",id:"password","onUpdate:modelValue":t[1]||(t[1]=e=>i.formData.password=e),required:""},null,512),[[r.Jo,i.formData.password]])]),j],32)}a(4114);var y={name:"LoginForm",data(){return{formData:{username:"",password:""}}},methods:{async submitForm(){try{const e=await fetch("/api/account/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(this.formData)});e.ok?(console.log("redirecting to home"),this.$router.push("/")):this.$router.push("/login")}catch(e){console.error("Error:",e)}}}};const L=(0,i.A)(y,[["render",_],["__scopeId","data-v-6623c410"]]);var O=L;const E=[{path:"/login",component:O},{path:"/",component:g,meta:{requiresAuth:!0}},{path:"/api/*",beforeEnter:(e,t,a)=>{a(!1)}}];async function C(){try{const e=await fetch("/api/account/authenticated");return console.log(e),e.ok?(console.log("authenticated"),!0):(console.log("not authenticated"),!1)}catch(e){return console.log("error authenticated"),console.error("Authentication check failed:",e),!1}}const x=(0,c.aE)({history:(0,c.LA)(),routes:E});x.beforeEach(((e,t,a)=>{const r=C();e.matched.some((e=>e.meta.requiresAuth))?r.then((t=>{if(t)return console.log(e.path),"/login"===e.path?void a("/"):void a();a("/login")})):a()}));var D=x;(0,r.Ef)(s).use(D).mount("#app")}},t={};function a(r){var o=t[r];if(void 0!==o)return o.exports;var n=t[r]={exports:{}};return e[r].call(n.exports,n,n.exports,a),n.exports}a.m=e,function(){var e=[];a.O=function(t,r,o,n){if(!r){var i=1/0;for(c=0;c<e.length;c++){r=e[c][0],o=e[c][1],n=e[c][2];for(var u=!0,l=0;l<r.length;l++)(!1&n||i>=n)&&Object.keys(a.O).every((function(e){return a.O[e](r[l])}))?r.splice(l--,1):(u=!1,n<i&&(i=n));if(u){e.splice(c--,1);var s=o();void 0!==s&&(t=s)}}return t}n=n||0;for(var c=e.length;c>0&&e[c-1][2]>n;c--)e[c]=e[c-1];e[c]=[r,o,n]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var r in t)a.o(t,r)&&!a.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={524:0};a.O.j=function(t){return 0===e[t]};var t=function(t,r){var o,n,i=r[0],u=r[1],l=r[2],s=0;if(i.some((function(t){return 0!==e[t]}))){for(o in u)a.o(u,o)&&(a.m[o]=u[o]);if(l)var c=l(a)}for(t&&t(r);s<i.length;s++)n=i[s],a.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return a.O(c)},r=self["webpackChunkweb_app"]=self["webpackChunkweb_app"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var r=a.O(void 0,[504],(function(){return a(5236)}));r=a.O(r)})();
//# sourceMappingURL=app.f684a939.js.map